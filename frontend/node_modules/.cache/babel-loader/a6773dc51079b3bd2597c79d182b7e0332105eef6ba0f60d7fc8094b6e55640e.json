{"ast":null,"code":"var _jsxFileName = \"/Users/mac8/Desktop/vehicle-rental-form/frontend/src/components/steps/StepDateRange.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { Button } from '@mui/material';\nimport dayjs from 'dayjs';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StepDateRange({\n  formData,\n  setFormData,\n  prevStep\n}) {\n  _s();\n  const [startDate, setStartDate] = useState(formData.startDate ? dayjs(formData.startDate) : null);\n  const [endDate, setEndDate] = useState(formData.endDate ? dayjs(formData.endDate) : null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const handleSubmit = async () => {\n    if (!startDate || !endDate) {\n      setError('Please select both start and end dates');\n      return;\n    }\n    if (dayjs(startDate).isAfter(endDate)) {\n      setError('Start date cannot be after end date');\n      return;\n    }\n    setError('');\n    setSubmitting(true);\n    try {\n      const payload = {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        vehicleId: parseInt(formData.vehicleId),\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString()\n      };\n      const res = await api.post('/bookings', payload);\n      setSuccess('✅ Booking successful!');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Something went wrong');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Select your booking dates\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n      dateAdapter: AdapterDayjs,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          label: \"Start Date\",\n          value: startDate,\n          onChange: date => setStartDate(date),\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          label: \"End Date\",\n          value: endDate,\n          onChange: date => setEndDate(date),\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: prevStep,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleSubmit,\n        disabled: submitting,\n        children: submitting ? 'Submitting...' : 'Submit Booking'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(StepDateRange, \"faZf81x5oLaVSpsL3wSSOXIc3NU=\");\n_c = StepDateRange;\nexport default StepDateRange;\nvar _c;\n$RefreshReg$(_c, \"StepDateRange\");","map":{"version":3,"names":["React","useState","AdapterDayjs","LocalizationProvider","DatePicker","Button","dayjs","api","jsxDEV","_jsxDEV","StepDateRange","formData","setFormData","prevStep","_s","startDate","setStartDate","endDate","setEndDate","error","setError","success","setSuccess","submitting","setSubmitting","handleSubmit","isAfter","payload","firstName","lastName","vehicleId","parseInt","toISOString","res","post","err","_err$response","_err$response$data","console","response","data","message","children","fileName","_jsxFileName","lineNumber","columnNumber","dateAdapter","className","label","value","onChange","date","onClick","variant","color","disabled","_c","$RefreshReg$"],"sources":["/Users/mac8/Desktop/vehicle-rental-form/frontend/src/components/steps/StepDateRange.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { Button } from '@mui/material';\nimport dayjs from 'dayjs';\nimport api from '../../services/api';\n\nfunction StepDateRange({ formData, setFormData, prevStep }) {\n  const [startDate, setStartDate] = useState(formData.startDate ? dayjs(formData.startDate) : null);\n  const [endDate, setEndDate] = useState(formData.endDate ? dayjs(formData.endDate) : null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleSubmit = async () => {\n    if (!startDate || !endDate) {\n      setError('Please select both start and end dates');\n      return;\n    }\n\n    if (dayjs(startDate).isAfter(endDate)) {\n      setError('Start date cannot be after end date');\n      return;\n    }\n\n    setError('');\n    setSubmitting(true);\n\n    try {\n      const payload = {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        vehicleId: parseInt(formData.vehicleId),\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString(),\n      };\n\n      const res = await api.post('/bookings', payload);\n      setSuccess('✅ Booking successful!');\n    } catch (err) {\n      console.error(err);\n      setError(err?.response?.data?.message || 'Something went wrong');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div>\n      <h5>Select your booking dates</h5>\n\n      <LocalizationProvider dateAdapter={AdapterDayjs}>\n        <div className=\"mb-3\">\n          <DatePicker\n            label=\"Start Date\"\n            value={startDate}\n            onChange={(date) => setStartDate(date)}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <DatePicker\n            label=\"End Date\"\n            value={endDate}\n            onChange={(date) => setEndDate(date)}\n            className=\"form-control\"\n          />\n        </div>\n      </LocalizationProvider>\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      {success && <div className=\"alert alert-success\">{success}</div>}\n\n      <div className=\"d-flex justify-content-between mt-3\">\n        <button className=\"btn btn-secondary\" onClick={prevStep}>\n          Back\n        </button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleSubmit}\n          disabled={submitting}\n        >\n          {submitting ? 'Submitting...' : 'Submit Booking'}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default StepDateRange;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}